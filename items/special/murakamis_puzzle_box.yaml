id: murakamis_puzzle_box
type: item
name: Murakami's Puzzle Box
category: special
rarity: Legendary Puzzle Box
description: >
  This intricately painted box appears to be an artifact from the Orient.
  Use it to transmute, upgrade, and salvage items by placing ingredients
  into the box to perform recipes involving runes, gems, and socketed equipment.
image: /images/items/accessories/misc/Puzzle_Box.png

recipes:
  - id: upgrade_rune
    name: Upgrade Rune
    description: >
      Upgrades a rune to the next tier. Ash is the highest tier and cannot
      be upgraded.
    input:
      - 2x Chipped Gem (any type)
      - 1x Rune
    output: 1x Next Tier Rune
    notes: Does not work on Ash runes.

  - id: unsocket_gems
    name: Unsocket Gems
    description: >
      Removes all gems from a socketed item, returning both the item and
      the gems.
    input:
      - 1x Ash Rune
      - 1x Socketed Item (with gems)
    output:
      - Original item (empty sockets)
      - All socketed gems returned
    notes: Consumes the Ash rune.

  - id: salvage_runes
    name: Salvage Runes from Item
    description: >
      Destroys a socketed item and returns the runes inside it.
      Only works if the item is NOT a completed Runeword.
    input:
      - 1x Cracked Gem (any type)
      - 1x Rune-socketed item (not a Runeword)
    output: Runes returned from the destroyed item
    notes: The item is destroyed. Does NOT work on Runeword items.

  - id: salvage_gems_from_weapon
    name: Salvage Gems from Weapon
    description: >
      Destroys a socketed weapon and returns the gems inside it.
      The chipped gem used must be a different type than the gem socketed
      in the weapon.
    input:
      - 1x Chipped Gem (different type than socketed gem)
      - 1x Socketed Weapon (with gems)
    output: Socketed gems returned from the destroyed weapon
    notes: The weapon is destroyed. The chipped gem must be a different type than the socketed gem.

  - id: upgrade_gem
    name: Upgrade Gem
    description: >
      Combines three gems of the same type and tier into one gem of the
      next higher tier.
    input: 3x Gem (same type and tier)
    output: 1x Next Tier Gem
    tiers:
      - "3x Cracked -> 1x Flawed"
      - "3x Flawed -> 1x Dull"

  - id: combine_item_dyes
    name: Combine Item Dyes
    description: >
      Combines two item dyes into one new, randomly selected item dye.
    input: 2x Item Dye (any type)
    output: 1x Item Dye (random)

# Metadata
guid: ff888090ff7a67a3ed0af5b5cb6d5460

game_version: 0.0.23272
status: active
tags:
  - items
  - special
  - legendary
  - puzzle_box
  - crafting
  - runes
  - gems
  - dyes 
